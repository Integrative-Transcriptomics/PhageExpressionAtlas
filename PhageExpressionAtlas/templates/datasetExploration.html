{% extends "index.html" %}

{% block title %}Dataset Exploration{% endblock %}

{% block content %}
<div id="content-exploration">

    <div class="page-header">
        <h1>Dataset Exploration</h1>
    </div>

    
    <div id="exploration-main-content" class="main-content">

        <div id="phage-host-interaction" class="exploration-container">

            <aside>
                <div class="header-w-info">
                    <h4>Make your selections</h4>
                    <sl-tooltip placement="right" >
                        <div slot="content" class="tooltip-content">
                            Make your selections sequentially from <strong>top to bottom</strong>.
                            <br>
                            To explore a specific Study, go to <strong>Data Overview</strong> â†’ <strong>Datasets</strong>,  
                            select a study by clicking on a study, and click <strong>Explore Dataset</strong>.
                        </div>
                        <sl-icon-button name="info-circle" aria-label="Information"></sl-icon-button>
                    </sl-tooltip>
                    
                </div>
                
                <sl-divider> </sl-divider>
    
                <sl-select id="phages-select" class="selector single" label="1. Select Phage of interest" size="small" placement="bottom">
                </sl-select>
                
                <sl-select id="hosts-select" class="selector single" label="2. Select Host of interest" size="small" placement="bottom"></sl-select>
    
                <sl-divider> </sl-divider>
    
                <sl-select id="studies-select" class="selector single" label="3. Select Study" size="small" placement="bottom"> </sl-select>
                
                <sl-button id="deselect-all-button" size="small" aria-label="Deselect all"> <sl-icon slot="prefix" name="x"> </sl-icon> Deselect all</sl-button>

                <br>
                <div id="info-study-header">
                    <p class="small-p">Information:</p>
                    <sl-tooltip content="Download Dataset">
                        <sl-icon-button id="download-dataset-button"
                        class="download-icon-button" name="download"></sl-icon-button>
                    </sl-tooltip>
                </div>

                <div id="info-study">
                    No Information available
                </div>
                <!-- <div class="citation-container">
                    <span id="citation" class="small-p">No Citation availabe</span>
                    <sl-copy-button from="citation"></sl-copy-button>
                </div> -->
                
    
            </aside>
    
            <main>
                <h3>Phage-Host interactions</h3>

                <div class="category-container">
                    <h3>Heatmaps</h3>
                    
                
                    <div class="card-container">
                        
                        <div class="graph-card">
                            <div class="header-w-info">
                                <h4>Phage Heatmap</h4>
                                <sl-tooltip placement="right" >
                                    <div slot="content" class="tooltip-content">
                                        Heatmap of all phage genes based on mean TPM values per time point normalized
                                        by z-score and clustered by similarity of gene expression over the time course of infection. 
                                    </div>
                                    <sl-icon-button name="info-circle" aria-label="Information"></sl-icon-button>
                                </sl-tooltip>

                                <div class="double-range-container" id="slider-phages">
                                    <div class="slider">
                                        <input id="left-slider-phages" class="left-slider" type="range" value="0" min="0" max="100" autocomplete="off">
                                        <input id="right-slider-phages" class="right-slider" type="range" value="100" min="0" max="100" autocomplete="off">
                                    </div>
                                    <div class="form-control-container">
                                        <sl-input id="min-input-field-phages" label="Lowest Variance" type="number" max="100" min="0" value="0" class="number-input-field-slider" size="small"></sl-input>
                                        <sl-input id="max-input-field-phages" label="Highest Variance" type="number" max="100" min="0" value="100" class="number-input-field-slider" size="small"></sl-input>
                                        
                                    </div>
                                </div> 
                            </div>
                            <!-- <p class="chart-info">
                                Heatmap of all Phage genes' mean TPM values normalized
                                by z-score per timepoint and clustered by similarity of gene expression over the time course of infection. 
                            </p> -->
                            <div class="spinner-container" id="spinner-container-phage-heatmap">
                                <sl-spinner id="phage-heatmap-spinner" class="spinner" intermediate></sl-spinner>
                            </div>
                            <div class="graph-container" id="phage-heatmap-container"></div>
                            
                        </div>

                        <div class="graph-card">
                            <div class="header-w-info">
                                <h4>Host Heatmap</h4>
                                <sl-tooltip placement="right" >
                                    <div slot="content" class="tooltip-content">
                                        Heatmap of all host genes based on mean TPM values per time point normalized
                                        by z-score and clustered by similarity of gene expression over the time course of infection. 
                                    </div>
                                    <sl-icon-button name="info-circle" aria-label="Information"></sl-icon-button>
                                </sl-tooltip>
                                <div class="double-range-container" id="slider-hosts">
                                    <div class="slider">
                                        <input id="left-slider-hosts" class="left-slider" type="range" value="70" min="0" max="100" autocomplete="off">
                                        <input id="right-slider-hosts" class="right-slider" type="range" value="100" min="0" max="100" autocomplete="off">
                                    </div>
                                    <div class="form-control-container">
                                        <sl-input id="min-input-field-hosts" label="Lowest Variance" type="number" max="100" min="0" value="70" class="number-input-field-slider" size="small"></sl-input>
                                        <sl-input id="max-input-field-hosts" label="Highest Variance" type="number" max="100" min="0" value="100" class="number-input-field-slider" size="small"></sl-input>
                                        
                                    </div>
                                </div>
                            </div>

                            <div class="spinner-container" id="spinner-container-host-heatmap">
                                <sl-spinner id="host-heatmap-spinner" class="spinner" intermediate></sl-spinner>
                            </div>
        
                            <div class="graph-container" id="host-heatmap-container"></div>
                        </div>
                    </div>
                </div>

                

                <div class="category-container">
                    <h3>Phage Gene Classification</h3>

                    <div class="card-container">
                        <div class="graph-card double">
                            <div id="gene-expression-header">
                                <div class="header-w-info">
                                    <h4>Phage Gene Expression Profiles</h4>
                                    <sl-tooltip placement="right" >
                                        <div slot="content" class="tooltip-content">
                                            Phage gene expression over time course of infection based on mean TPM values per time point normalized to the highest mean TPM value per gene.
                                            Phage genes are classified (early, middle, late) either based on the time point of maximal expression (Class Max) or a threshold of 20 % of maximal gene expression (Class Threshold)
                                        </div>
                                        <sl-icon-button name="info-circle" aria-label="Information"></sl-icon-button>
                                    </sl-tooltip>
    
                                </div>
    
                                <sl-radio-group size="small" id="class-radiogroup" class="radio-group" label="Select Classification method" value="classMax">
                                    <sl-tooltip placement="top" content="Based on the gene's highest expression level.">
                                        <sl-radio-button value="classMax" class="radio-button-class" size="small">
                                            Class Max
                                        </sl-radio-button>
                                    </sl-tooltip>
                                    <sl-tooltip placement="top" content="Based on a defined expression threshold of 0.2.">
                                        <sl-radio-button value="classThreshold" class="radio-button-class" size="small">
                                            Class Threshold
                                        </sl-radio-button>
                                    </sl-tooltip>
                                </sl-radio-group>
                            </div>
                            
                            <div class="spinner-container" id="spinner-container-class-timeseries-container">
                                <sl-spinner id="class-timeseries-spinner" class="spinner" intermediate></sl-spinner>
                            </div>
                            <div class="graph-container" id="class-timeseries-container"></div>
                        </div>


                        <!-- <div class="graph-card">
                            <div class="header-w-info">
                                <h4></h4>
                                <sl-tooltip placement="top" >
                                    <div slot="content" class="tooltip-content">
                                    </div>
                                    <sl-icon-button name="info-circle" aria-label="Information"></sl-icon-button>
                                </sl-tooltip>
                            </div>
                            
                            <div class="graph-container" id="chord-container"></div>
                            
                        </div>
     -->
  
                    </div>  
                </div>
            </main>
        </div>
    
    
    
        <sl-divider></sl-divider>
    
    
        <div id="gene-selection" class="exploration-container">
                
            <aside>
                <div class="header-w-info">
                    <h4>Make your selections</h4>
                    <sl-tooltip placement="right" content="">
                        <sl-icon-button name="info-circle" aria-label="Information"></sl-icon-button>
                    </sl-tooltip>
                </div>
    
                <sl-divider> </sl-divider>
    
                <sl-select id="phage-genes-select" class="selector" multiple size="small" label="Select Phage Genes" placement="bottom" max-options-visible=1> 
                
                </sl-select>
                <sl-select id="host-genes-select" class="selector" multiple size="small" label="Select Host Genes" placement="bottom" max-options-visible=1></sl-select>
    
    
            </aside>
    
            <main>
                <h3>Gene selection</h3>
    
                <div class="card-container">
                    <div class="graph-card">
                        <div class="header-w-info">
                            <h3>Phage Genes</h3>
                            <sl-tooltip placement="right" >
                                <div slot="content" class="tooltip-content">
                                    Phage gene expression profiles over the time course of infection based on mean TPM values normalized to the highest mean TPM value per gene.
                                </div>
                                <sl-icon-button name="info-circle" aria-label="Information"></sl-icon-button>
                            </sl-tooltip>
                        </div>
                        
                        <div class="spinner-container" id="spinner-container-phage-genes-timeseries">
                            <sl-spinner id="phage-genes-timeseries-spinner" class="spinner" intermediate></sl-spinner>
                        </div>
                        <div class="graph-container" id="phage-genes-timeseries-container"></div>
                        
                    </div>

                    <div class="graph-card">
                        <div class="header-w-info">
                            <h3>Host Genes</h3>
                            <sl-tooltip placement="right" >
                                <div slot="content" class="tooltip-content">
                                    Host gene expression profiles over the time course of infection based on mean TPM values normalized to the highest mean TPM value per gene.
                                </div>
                                <sl-icon-button name="info-circle" aria-label="Information"></sl-icon-button>
                            </sl-tooltip>
                        </div>
                        
                        <div class="spinner-container" id="spinner-container-host-genes-timeseries">
                            <sl-spinner id="host-genes-timeseries-spinner" class="spinner" intermediate></sl-spinner>
                        </div>
                        <div class="graph-container" id="host-genes-timeseries-container"></div>
                        
                    </div>

                    <div class="graph-card">
                        <div class="header-w-info">
                            <h4>Selected Phage Gene Heatmap</h4>
                            <sl-tooltip placement="right" >
                                <div slot="content" class="tooltip-content">
                                    Heatmap of all selected phage genes based on mean TPM values per time point normalized
                                    by z-score and clustered by similarity of gene expression over the time course of infection. 
                                </div>
                                <sl-icon-button name="info-circle" aria-label="Information"></sl-icon-button>
                            </sl-tooltip>
                        </div>
                        <!-- <p class="chart-info">
                            Heatmap of all selected Phage genes' mean TPM values normalized
                            by z-score per timepoint and clustered by similarity of gene expression over the time course of infection. 
                        </p> -->
                        <div class="spinner-container" id="spinner-container-phage-genes-heatmap">
                            <sl-spinner id="phage-genes-heatmap-spinner" class="spinner" intermediate></sl-spinner>
                        </div>
                        <div class="graph-container" id="phage-gene-heatmap-container"></div>
                        
                    </div>

                    <div class="graph-card">
                        <div class="header-w-info">
                            <h4>Selected Host Gene Heatmap</h4>
                            <sl-tooltip placement="right" >
                                <div slot="content" class="tooltip-content">
                                    Heatmap of all selected host genes based on mean TPM values per time point normalized
                                    by z-score and clustered by similarity of gene expression over the time course of infection. 
                                </div>
                                <sl-icon-button name="info-circle" aria-label="Information"></sl-icon-button>
                            </sl-tooltip>
                        </div>
                        <!-- <p class="chart-info">
                            Heatmap of all selected Host genes' mean TPM values normalized
                            by z-score per timepoint and clustered by similarity of gene expression over the time course of infection. 
                        </p> -->

                        <div class="spinner-container" id="spinner-container-host-genes-heatmap">
                            <sl-spinner id="host-genes-heatmap-spinner" class="spinner" intermediate></sl-spinner>
                        </div>
                        <div class="graph-container" id="host-gene-heatmap-container"></div>
                        
                    </div>
                </div>
    
            </main>
    
        </div>
    
    </div>
    
    

</div>


</div>
{% endblock %}

