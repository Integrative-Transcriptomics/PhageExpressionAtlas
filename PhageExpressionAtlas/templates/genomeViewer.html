{% extends "index.html" %}

{% block title %}Genome Viewer{% endblock %}

{% block content %}



<div id="content-viewer">

    <div class="page-header">
        <h1>Genome Viewer</h1>
    </div>


    <div id="viewer-main-content" class="main-content">
        <aside>
            <div class="header-w-info">
                <h4>Make your selections</h4>
                <sl-tooltip placement="right" content="Select the Phage you want to view in the genome viewer on the right.">
                <sl-icon-button name="info-circle" label="Information"><sl-icon-button>
                </sl-tooltip>
            </div>
            
            <sl-divider> </sl-divider>

            <sl-select id="phages-select-viewer" class="selector single" label="Select Genome of interest" size="small" placement="bottom">
            </sl-select>

            <sl-select id="dataset-select-viewer" class="selector single" label="Select Dataset for Gene Classification" size="small" placement="bottom">
            </sl-select>

            <div class="header-w-info">
                    <span class="form-control-label">
                        Select Phage Gene Classification Method
                        
                        <sl-tooltip placement="right" >
                        <sl-icon-button name="info-circle" label="Information"></sl-icon-button>
                        <div slot="content" class="tooltip-content">
                            <p class="small-p">
                                The Classification method determines the gene classification.
                                <ul>
                                    <li><strong>Class Max</strong>: classification is based on the gene's highest expression level.</li>
                                    <li><strong>Class Threshold</strong>: classification is based on a defined expression threshold of 0.2.</li>
                                    <li><strong>Custom Threshold</strong>: classification is based on a custom threshold. For each classification (early phase, middle phase, late phase) a time point threshold for can be selected together with a threshold between 0 and 1.</li>
                                </ul>
                            </p>
                        </div>
                    </sl-tooltip>
                    </span>
                </div>
                
                <sl-select id="classification-method" size="small" value="ClassMax" label="Select Classification Method">
                    <sl-option value="ClassMax"> Class Max</sl-option>
                    <sl-option value="ClassThreshold"> Class Threshold (0.2)</sl-option>
                    <sl-option value="CustomThreshold"> Custom Threshold</sl-option>
                </sl-select>

                <div class="custom-threshold-container">
                    <sl-select id="early-select" label="Early Boundary Timepoint" value="" size="small" clearable></sl-select>

                    <sl-select id="middle-select" label="Middle Boundary Timepoint" value="" size="small" clearable></sl-select>

                    <sl-select id="late-select" label="Late Boundary Timepoint" value="" size="small" clearable></sl-select>
                    
                    <sl-input id="custom-threshold" label="Threshold" value="" min="0" max="1" step="0.01" type="number" size="small"></sl-input>

                </div>

                <sl-divider></sl-divider>

                <div id="download-container">
                    Download GFF: 
                    <sl-icon-button id="download-gff-button" class="download-icon-button" name="download" label="Download Dataset">
                    </sl-icon-button>
                </div>
                
                
            
        </aside>

        <main id="viewer-main">
            <h3>Genome Viewer</h3>

            <div id="genome-container" class="graph-card double">

                <div id="title">
                    <h4><span id="genome-title">Phage</span></h4> 
                </div>

                
                <p class="note">* Please note, the data displayed in the genome viewer is sourced directly from GFF files, without cleaning or validation. We do not take responsibility for its accuracy or biological correctness</p>
                
                <div class="spinner-container" id="spinner-container-viewer">
                    <sl-spinner id="genome-spinner" class="spinner" intermediate></sl-spinner>
                </div>
                <div id="genome">

                
            </div>
        </main>
        


        </div>





    </div>



    

</div>

{% endblock %}